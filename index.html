<!DOCTYPE html>
<html lang="he">

<head>
  <title>BabiBot - פקודות</title>
  <link href="https://fonts.googleapis.com/css2?family=Heebo:wght@400;700&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Heebo', sans-serif;
      /* שימוש בפונט Heebo */
      margin: 0;
      background-color: #f0f2f5;
      /* גוון אפור בהיר */
      display: flex;
      min-height: 100vh;
      color: #333;
    }

    /* עיצוב כללי */
    h1 {
      color: #2c3e50;
      /* כחול כהה */
      text-align: center;
      margin-bottom: 30px;
      font-size: 2.5em;
      font-weight: 700;
    }

    h2 {
      color: #34495e;
      /* כחול כהה יותר */
      margin-top: 40px;
      margin-bottom: 15px;
      font-size: 1.8em;
      border-bottom: 2px solid #e0e0e0;
      padding-bottom: 5px;
    }

    h3 {
      color: #555;
      margin-top: 25px;
      margin-bottom: 10px;
      font-size: 1.4em;
    }

    p {
      line-height: 1.6;
      margin-bottom: 10px;
    }

    pre {
      background-color: #e8f5e9;
      /* ירוק בהיר מאוד */
      padding: 15px;
      border-radius: 8px;
      overflow-x: auto;
      font-family: 'Courier New', Courier, monospace;
      border: 1px solid #d4edda;
    }

    ul {
      list-style-type: none;
      padding: 0;
    }

    li {
      margin-bottom: 8px;
    }

    a {
      color: #3498db;
      /* כחול */
      text-decoration: none;
      transition: color 0.3s ease;
    }

    a:hover {
      color: #2980b9;
      /* כחול כהה יותר במעבר עכבר */
    }

    /* מבנה העמוד */
    .container {
      display: flex;
      width: 100%;
      max-width: 1200px;
      margin: 20px auto;
      background-color: #ffffff;
      border-radius: 10px;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
      overflow: hidden;
    }

    /* תפריט צדדי */
    .command-menu {
      width: 250px;
      padding: 30px 20px;
      background-color: #2c3e50;
      /* כחול כהה לתפריט */
      color: #ecf0f1;
      /* לבן אפרפר */
      box-shadow: 2px 0 10px rgba(0, 0, 0, 0.1);
      flex-shrink: 0;
    }

    .command-menu h2 {
      color: #ecf0f1;
      border-bottom: 2px solid #3498db;
      padding-bottom: 10px;
      margin-bottom: 20px;
    }

    .command-menu ul {
      list-style-type: none;
      padding: 0;
    }

    .command-menu li a {
      display: block;
      padding: 10px 15px;
      color: #ecf0f1;
      text-decoration: none;
      border-radius: 5px;
      transition: background-color 0.3s ease, color 0.3s ease;
    }

    .command-menu li a:hover {
      background-color: #3498db;
      color: #ffffff;
    }

    /* תוכן ראשי */
    .main-content {
      flex-grow: 1;
      padding: 30px;
      overflow-y: auto;
    }

    /* כותרת הדף העליונה */
    .page-header {
      padding: 20px;
      background-color: #3498db;
      /* כחול */
      color: #ffffff;
      text-align: center;
      border-radius: 8px;
      margin-bottom: 30px;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
    }

    .page-header h1 {
      color: #ffffff;
      margin: 0;
    }

    /* פקודות בודדות */
    .command {
      margin-bottom: 40px;
      background-color: #fdfdfd;
      border-radius: 8px;
      padding: 25px;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.08);
      transition: transform 0.2s ease, box-shadow 0.2s ease;
    }

    .command:hover {
      transform: translateY(-5px);
      box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);
    }

    .command h3 {
      font-size: 1.6em;
      color: #2980b9;
      /* כחול כהה יותר */
      margin-top: 0;
      border-bottom: 1px dashed #cccccc;
      padding-bottom: 10px;
      margin-bottom: 20px;
    }

    .command-section p {
      margin-bottom: 5px;
    }

    .command-section ul {
      margin-top: 5px;
      margin-bottom: 10px;
    }

    .notes,
    .parameters {
      color: #666;
      font-size: 0.95em;
      background-color: #f7f7f7;
      border-left: 4px solid #f39c12;
      /* כתום */
      padding: 10px 15px;
      border-radius: 4px;
      margin-top: 15px;
    }

    .notes strong,
    .parameters strong {
      color: #e67e22;
      /* כתום כהה יותר */
    }

    /* בורר שפה */
    .lang-selector {
      text-align: center;
      margin-bottom: 30px;
      padding: 15px;
      background-color: #ecf0f1;
      border-radius: 8px;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
    }

    .lang-selector label {
      font-weight: bold;
      margin-right: 10px;
      color: #2c3e50;
    }

    .lang-selector select {
      padding: 8px 12px;
      border-radius: 5px;
      border: 1px solid #ccc;
      background-color: #ffffff;
      font-size: 1em;
      cursor: pointer;
      transition: border-color 0.3s ease;
    }

    .lang-selector select:focus {
      outline: none;
      border-color: #3498db;
    }

    /* מידע פרטיות */
    #privacyNote {
      margin-top: 50px;
      padding: 25px;
      background-color: #fdf6e3; /* צהוב בהיר מאוד */
      border-radius: 8px;
      border: 1px solid #fae3bf;
      color: #725114;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
      /* הוספות לטיפול בגלישת טקסט */
      word-wrap: break-word; /* שובר מילים ארוכות שלא נכנסות */
      overflow-wrap: break-word; /* גרסה מודרנית יותר של word-wrap */
      text-align: right; /* יישור לימין, במידה וזה משפר קריאות בעברית */
    }

    #privacyNote h2 {
      color: #d35400; /* כתום חזק יותר */
      border-bottom-color: #f39c12;
    }

    /* יישור הטקסט של הפסקה בתוך אזור הפרטיות */
    #privacyNote p {
        text-align: right; /* וודא שהטקסט בתוך הפסקה גם מיושר לימין */
        line-height: 1.6; /* שיפור רווח שורות לקריאות טובה יותר */
    }

    /* רספונסיביות בסיסית */
    @media (max-width: 768px) {
      .container {
        flex-direction: column;
        margin: 10px;
      }

      .command-menu {
        width: 100%;
        padding: 20px 15px;
        box-shadow: none;
        border-bottom: 2px solid #3498db;
      }

      .main-content {
        padding: 20px 15px;
      }

      .page-header h1 {
        font-size: 2em;
      }

      h2 {
        font-size: 1.5em;
      }

      .command h3 {
        font-size: 1.4em;
      }
    }
  </style>
</head>

<body>
  <div class="container">
    <aside class="command-menu">
      <h2 id="commandMenuTitle">פקודות:</h2>
      <ul id="commandList">
      </ul>
    </aside>

    <main class="main-content">
      <div class="page-header">
        <h1 id="pageTitle">BabiBot - פקודות</h1>
      </div>

      

      <div class="lang-selector">
        <label for="lang">בחר שפה:</label>
        <select id="lang" onchange="changeLang()">
          <option value="iw">עברית</option>
          <option value="en">English</option>
        </select>
      </div>
      
      <section id="privacyNote">
        <h2>פרטיות</h2>
        <p>שימו לב! למפתח של BabiBot קיימת גישה להודעות שתשלחו לבוט, ההודעות נבדקות מפעם לפעם על מנת לשפר ולתקן את הבוט.
        </p>
      </section>

      <h2 id="commandsTitle">פקודות:</h2>

      <section id="commandsContainer">
      </section>

      <section id="donationSection">
        <h2>תמיכה בפיתוח הבוט</h2>
        <p>אם אתם אוהבים את BabiBot ורוצים לתמוך בפיתוחו ובשמירה על פעולתו, אתם מוזמנים לתרום באמצעות הכפתור למטה. כל תרומה, קטנה כגדולה, עוזרת לנו לשמור על הבוט פעיל, לשפר את יכולותיו ולהוסיף פקודות חדשות!</p>
        <div class="bmc-button-container">
          <script type="text/javascript" src="https://cdnjs.buymeacoffee.com/1.0.0/button.prod.min.js"
            data-name="bmc-button"
            data-slug="BabiBot"
            data-color="#3498db"
            data-emoji="💙"
            data-font="Heebo"
            data-text="תמכו ב-BabiBot"
            data-outline-color="#000000"
            data-font-color="#FFFFFF"
            data-coffee-color="#ffffff"
            data-btn-color="#3498db"
            data-url="https://www.buymeacoffee.com/BabiBot"
            style="width: fit-content; margin: 20px auto; display: block;"
          ></script>
        </div>
      </section>
    </main>
  </div>

  <script type="module" src="commands.js"></script>
  <script type="module">
    import { AllCommands, keyNotes } from './commands.js';

    window.AllCommands = AllCommands; // Make AllCommands accessible globally
    window.keyNotes = keyNotes; // Make keyNotes accessible globally

    document.addEventListener('DOMContentLoaded', () => {
      // Set initial language based on URL or default to Hebrew
      const urlParams = new URLSearchParams(window.location.search);
      const langParam = urlParams.get('lang');
      const initialLang = langParam === 'en' ? 'en' : 'iw';
      document.getElementById('lang').value = initialLang;
      reloadPageWithLang(initialLang);
    });

    window.reloadPageWithLang = (lang) => {
      // change the layout direction
      if (lang == "iw") {
        window.document.dir = "rtl";
        document.getElementById("commandMenuTitle").innerHTML = "פקודות:";
        document.getElementById("pageTitle").innerHTML = "BabiBot - פקודות";
        document.getElementById("privacyNote").innerHTML = `<h2>פרטיות</h2>
        <p>שימו לב! למפתח של BabiBot קיימת גישה להודעות שתשלחו לבוט, ההודעות נבדקות מפעם לפעם על מנת לשפר ולתקן את הבוט.</p>`;
      }
      else {
        window.document.dir = "ltr";
        document.getElementById("commandMenuTitle").innerHTML = "Commands:";
        document.getElementById("pageTitle").innerHTML = "BabiBot - Commands";
        document.getElementById("privacyNote").innerHTML = `<h2>Privacy</h2>
        <p>Attention! The developer of BabiBot has access to the messages you send to the bot. The messages are periodically reviewed in order to improve and correct the bot.</p>`;
      }

      // Clear existing content
      const commandsContainer = document.getElementById('commandsContainer');
      commandsContainer.innerHTML = '';
      const commandList = document.getElementById('commandList');
      commandList.innerHTML = '';


      // Populate commands
      if (AllCommands[lang]) {
        AllCommands[lang].forEach(command => {
          // Add to command menu
          commandList.innerHTML += `<li><a href='#command-${command.name.replace("!", "")}'>${command.name}</a></li>`;

          // Add command details
          let commandHtml = `
            <div id="command-${command.name.replace("!", "")}" class="command">
              <h3>${command.name}</h3>
              <div class="command-section">
                <h4>${keyNotes[lang].description}</h4>
                <p>${command.description}</p>
              </div>
              <div class="command-section">
                <h4>${keyNotes[lang].usage}</h4>
                <pre>${command.usage}</pre>
              </div>
          `;

          if (command.parameters && command.parameters.length > 0) {
            commandHtml += `
              <div class="command-section parameters">
                <h4>${keyNotes[lang].parameters}</h4>
                <ul>
            `;
            command.parameters.forEach(param => {
              commandHtml += `<li><strong>${param.name}:</strong> ${param.description}</li>`;
            });
            commandHtml += `
                </ul>
              </div>
            `;
          }

          if (command.examples && command.examples.length > 0) {
            commandHtml += `
              <div class="command-section">
                <h4>${keyNotes[lang].examples}</h4>
                <ul>
            `;
            command.examples.forEach(example => {
              commandHtml += `<li><pre>${example}</pre></li>`;
            });
            commandHtml += `
                </ul>
              </div>
            `;
          }

          commandHtml += `
              <div class="command-section">
                <h4>${keyNotes[lang].response}</h4>
                <p>${command.response}</p>
              </div>
          `;

          if (command.notes && command.notes.length > 0) {
            commandHtml += `
              <div class="command-section notes">
                <h4>${keyNotes[lang].notes}</h4>
                <ul>
            `;
            command.notes.forEach(note => {
              commandHtml += `<li>${note}</li>`;
            });
            commandHtml += `
                </ul>
              </div>
            `;
          }

          commandHtml += `</div>`;
          commandsContainer.innerHTML += commandHtml;
        });
      }
    };

    window.changeLang = () => {
      let lang = document.getElementById("lang").value;
      console.log("lang set to: " + lang); // "iw" or "en
      reloadPageWithLang(lang);
      // Update URL without reloading page
      const newUrl = new URL(window.location.href);
      newUrl.searchParams.set('lang', lang);
      window.history.pushState({ path: newUrl.href }, '', newUrl.href);
    }
  </script>
</body>

</html>